<button class="close-dialog" (click)="close(false)" mdDialogActions>
    <span class="material-icons">
        close
    </span>
</button>


<form name="form" #f="ngForm" (ngSubmit)="f.form.valid && createEpic()">
    <div class="row">
        <div class="col-md-6 offset-1">
            <mat-form-field>
                <input matInput placeholder="title" name="epicTitle" [(ngModel)]="epic.title" #title=ngModel
                    [ngClass]="{'is-invalid': f.submitted && title.invalid}" required>
                <div *ngIf="f.submitted && title.invalid">
                    <div *ngIf="title.errors?.required" class="invalid">field is required!</div>
                </div>
            </mat-form-field>

            <mat-form-field>
                <mat-label>description</mat-label>
                <textarea matInput
                          #desc=ngModel
                          name="desc"
                          [ngClass]="{'is-invalid': f.submitted && desc.invalid}"                          
                          [(ngModel)]="epic.description"                          
                          >
                </textarea>
                <div *ngIf="f.submitted && desc.invalid">
                    <div *ngIf="desc.errors?.required" class="invalid">field is required!</div>
                </div>
            </mat-form-field>         
            
        </div>
    </div>
    <div class="row">
        <div class="col-md-3 offset-1">
            <ng-container *ngIf="epic.id_epic !== null; else createBtn">
                <button class="btn btn-primary" type="submit" mdDialogActions>update</button>
            </ng-container>
            <ng-template #createBtn>
                <button class="btn btn-primary" type="submit" mdDialogActions>create</button>
            </ng-template>
            
            
        </div>

        <div class="col-md-3 offset-md-1">
            <a class="btn btn-light" (click)="close(false)" mdDialogActions>cancel</a>
        </div>
    </div>
</form>